<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Lampiran SK Wali Kelas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ================= PENGATURAN KERTAS ================= */
@page {
  size: A4;
  margin: 3cm 3cm 3cm 3cm;
}

body{
  margin:0;
  font-family:"Times New Roman", serif;
  font-size:12pt;
}

/* ================= KOP SEKOLAH ================= */
.kop{
  text-align:center;
  border-bottom:3px solid #000;
  padding-bottom:10px;
  margin-bottom:20px;
}
.kop h1{
  font-size:16pt;
  margin:0;
  font-weight:bold;
}
.kop h2{
  font-size:14pt;
  margin:2px 0;
  font-weight:bold;
}
.kop p{
  font-size:11pt;
  margin:2px 0;
}

/* ================= JUDUL ================= */
.judul{
  text-align:center;
  font-weight:bold;
  margin-top:20px;
  line-height:1.6;
}

/* ================= TABEL ================= */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
}
th, td{
  border:1px solid #000;
  padding:6px;
}
th{
  text-align:center;
  font-weight:bold;
}
.center{
  text-align:center;
}

/* ================= TANDA TANGAN ================= */
.footer{
  margin-top:40px;
  width:100%;
}
.footer td{
  border:none;
}

@media print{
  body{
    margin:0;
  }
}
</style>
</head>

<body>

<!-- ================= KOP SEKOLAH ================= -->
<div class="kop">
  <h1>PEMERINTAH PROVINSI KALIMANTAN TIMUR</h1>
  <h2>DINAS PENDIDIKAN DAN KEBUDAYAAN</h2>
  <h2>SMA NEGERI 2 SENDAWAR</h2>
  <p>Jl. Sendawar Raya, Kabupaten Kutai Barat, Kalimantan Timur</p>
</div>

<!-- ================= JUDUL ================= -->
<div class="judul">
  LAMPIRAN SURAT KEPUTUSAN KEPALA SMA NEGERI 2 SENDAWAR<br>
  NOMOR : 400.3.8/708/SMAN 2 SDWR/2025<br>
  TENTANG PENUGASAN WALI KELAS<br>
  SEMESTER GENAP TAHUN PELAJARAN 2025/2026
</div>

<!-- ================= TABEL DATA ================= -->
<table>
<thead>
<tr>
  <th style="width:5%">No</th>
  <th style="width:35%">Nama Guru</th>
  <th style="width:25%">NIP</th>
  <th style="width:35%">Penugasan</th>
</tr>
</thead>
<tbody id="dataWaliKelas"></tbody>
</table>

<!-- ================= TANDA TANGAN ================= -->
<table class="footer">
<tr>
<td width="60%"></td>
<td>
Sendawar, 05 Januari 2026<br>
Kepala SMA Negeri 2 Sendawar<br><br><br><br>
<b>Fardinandus Erikson, S.Fil</b>
</td>
</tr>
</table>

<!-- ================= DATABASE ================= -->
<script src="data/username.js"></script>
<script src="data/pembagian-tugas.js"></script>

<script>
// ===================================================
// AMBIL DATA WALI KELAS (BUKAN GURU WALI)
// ===================================================
const dataWaliKelas = pembagianTugas.filter(t =>
  t.jenis === "tambahan" &&
  t.uraian.startsWith("Wali Kelas")
);

// ===================================================
// TAMPILKAN KE TABEL
// ===================================================
const tbody = document.getElementById("dataWaliKelas");
let no = 1;

if(dataWaliKelas.length === 0){
  tbody.innerHTML = `
    <tr>
      <td colspan="4" class="center">
        Tidak terdapat data penugasan Wali Kelas
      </td>
    </tr>
  `;
}else{
  dataWaliKelas.forEach(item => {
    const guru = masterGuru.find(g => g.username === item.username) || {};

    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td class="center">${no++}</td>
      <td>${guru.nama || "-"}</td>
      <td class="center">${guru.nip || "-"}</td>
      <td>${item.uraian}</td>
    `;
    tbody.appendChild(tr);
  });
}
</script>

</body>
</html>
