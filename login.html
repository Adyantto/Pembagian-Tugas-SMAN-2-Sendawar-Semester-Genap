<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Login Guru | SMAN 2 Sendawar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Segoe UI, Arial, sans-serif;
}
.card{
  background:#fff;
  width:100%;
  max-width:420px;
  padding:28px;
  border-radius:18px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  text-align:center;
}
.logo{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-bottom:12px;
}
.logo img{
  height:70px;
}
h2{
  margin:10px 0 5px;
  color:#1e3c72;
}
.sub{
  font-size:14px;
  color:#555;
  margin-bottom:20px;
}
input{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #ccc;
}
button{
  width:100%;
  margin-top:18px;
  padding:14px;
  font-size:16px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#fff;
  cursor:pointer;
}
button:hover{
  opacity:.9;
}
.error{
  margin-top:12px;
  color:#dc2626;
  font-size:14px;
  display:none;
}
.footer{
  margin-top:18px;
  font-size:13px;
  color:#64748b;
}
</style>
</head>

<body>

<div class="card">

  <div class="logo">
    <img src="logo-provinsi.png" alt="Logo Provinsi">
    <img src="logo-sman2.png" alt="Logo SMAN 2">
  </div>

  <h2>Login Guru</h2>
  <div class="sub">
    Masukkan <b>USERNAME</b><br>
    (NIP tanpa spasi atau Nama Lengkap)
  </div>

  <input
    type="text"
    id="usernameInput"
    placeholder="Masukkan USERNAME"
    autocomplete="on"
  >

  <button onclick="loginGuru()">
    Lihat Rincian Tugas
  </button>

  <div class="error" id="errorMsg"></div>

  <div class="footer">
    Semester Genap 2025 / 2026<br>
    Tim Pengembang Kurikulum SMAN 2 Sendawar
  </div>

</div>

<!-- LOAD DATABASE USERNAME -->
<script src="data/username.js"></script>

<script>
function loginGuru(){
  const input = document.getElementById("usernameInput").value.trim();
  const error = document.getElementById("errorMsg");

  error.style.display = "none";

  if(input === ""){
    error.innerText = "Username wajib diisi";
    error.style.display = "block";
    return;
  }

  if(typeof masterGuru === "undefined"){
    error.innerText = "Database username tidak terbaca";
    error.style.display = "block";
    return;
  }

  const guru = masterGuru.find(g => g.username === input);

  if(!guru){
    error.innerText = "Username tidak ditemukan";
    error.style.display = "block";
    return;
  }

  // Lanjut ke halaman hasil
  window.location.href =
    "hasil.html?username=" + encodeURIComponent(guru.username);
}
</script>

</body>
</html>
